<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hack-Maxwin — Aktivasi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial; background:#f8fafc; }
    .hero-bg { background: linear-gradient(135deg,#064e3b 0%,#047857 60%); color: white; }
    .logo-wrap { width:48px; height:48px; display:inline-block; border-radius:10px; background:rgba(255,255,255,0.06); padding:6px; }
    .site-logo { width:120px; height:120px; border-radius:9999px; object-fit:cover; display:block; margin:0 auto; }
  </style>
</head>
<body class="min-h-screen">
  <header class="hero-bg py-6">
    <div class="max-w-6xl mx-auto px-4 flex items-center justify-between">
      <div class="flex items-center gap-4">
        <a href="/" class="inline-flex items-center gap-3" title="Hack-Maxwin">
          <img src="{{ url_for('static', filename='logo_circle.png') }}" alt="Hack-Maxwin" class="site-logo" />
        </a>
      </div>
      <div class="text-right">
        <div class="text-lg font-semibold">Hack-Maxwin</div>
        <div class="text-sm text-white/80">Alat aktivasi cepat</div>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 -mt-12">
    <section class="bg-white rounded-2xl shadow-lg p-8">
      <form id="activateForm" method="POST" action="/activate">
        <div class="mb-4 text-center">
          <h1 class="text-2xl md:text-3xl font-extrabold text-slate-800 mb-1">Aktivasi Sekarang — Cepat & Aman</h1>
          <p class="text-sm text-red-600">Hanya berlaku 1x pemakaian</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
          <!-- main options (radio: hanya 1) -->
          <label class="flex items-center gap-3 p-3 border rounded-lg cursor-pointer">
            <input type="radio" name="option" value="freespin" class="h-5 w-5 accent-emerald-600" />
            <span class="font-medium">Cheat Freespin</span>
          </label>

          <label class="flex items-center gap-3 p-3 border rounded-lg cursor-pointer">
            <input type="radio" name="option" value="maxwin" class="h-5 w-5 accent-emerald-600" />
            <span class="font-medium">Cheat Maxwin</span>
          </label>
        </div>

        <div class="mb-6">
          <details id="providerDropdown" class="bg-gray-50 border rounded-lg p-3">
            <summary id="providerSummary" class="cursor-pointer font-medium flex items-center justify-between">
              <span class="provider-label">Pilih Provider</span>
              <span id="providerCount" class="text-xs text-gray-500">0 dipilih</span>
            </summary>

            <div class="mt-2 text-sm text-gray-700 space-y-2">
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="radio" name="provider" value="Pragmatic Play" /> Pragmatic Play
              </label>
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="radio" name="provider" value="PG Soft" /> PG Soft
              </label>
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="radio" name="provider" value="Habanero" /> Habanero
              </label>
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="radio" name="provider" value="Spade Gaming" /> Spade Gaming
              </label>
            </div>
          </details>
        </div>

        <!-- single submit button (disabled sampai option + provider terpilih) -->
        <div class="mt-4">
          <button id="activateSubmit" type="submit"
                  class="px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg disabled:opacity-60"
                  disabled>
            Aktivasi Sekarang
          </button>
        </div>
      </form>
    </section>

    <footer class="mt-8 text-sm text-gray-600 text-center">
      © <span id="year"></span> Hack-Maxwin
    </footer>
  </main>

  <script>
    // behavior: enable submit only when one main option + one provider chosen.
    (function(){
      const form = document.getElementById('activateForm');
      const submitBtn = document.getElementById('activateSubmit');
      const optionRadios = form.querySelectorAll('input[name="option"]');
      const providerRadios = form.querySelectorAll('input[name="provider"]');
      const dropdown = document.getElementById('providerDropdown');
      const summaryLabel = document.querySelector('#providerSummary .provider-label');
      const providerCount = document.getElementById('providerCount');

      function updateSubmit(){
        const optionSelected = Array.from(optionRadios).some(r=>r.checked);
        const providerSelected = Array.from(providerRadios).some(r=>r.checked);
        submitBtn.disabled = !(optionSelected && providerSelected);
      }

      function updateProviderSummary(){
        const checked = Array.from(providerRadios).find(r=>r.checked);
        if(!checked){
          summaryLabel.textContent = 'Pilih Provider';
          providerCount.textContent = '0 dipilih';
        } else {
          summaryLabel.textContent = checked.value;
          providerCount.textContent = '1 dipilih';
          if(dropdown) dropdown.open = false;
        }
      }

      optionRadios.forEach(r=>r.addEventListener('change', updateSubmit));
      providerRadios.forEach(r=>r.addEventListener('change', ()=>{ updateProviderSummary(); updateSubmit(); }));

      // close details on outside click
      document.addEventListener('click', (e)=>{ if(dropdown && !dropdown.contains(e.target)) dropdown.open = false; });

      updateProviderSummary();
      updateSubmit();
    })();

    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
